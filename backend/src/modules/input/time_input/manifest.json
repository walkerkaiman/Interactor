{
  "name": "Time Input",
  "type": "input",
  "version": "1.0.0",
  "description": "Clock mode triggers at specific time, Metronome mode pulses at intervals. Supports WebSocket API for external time sources.",
  "author": "Interactor Team",
  "configSchema": {
    "type": "object",
    "properties": {
      "mode": {
        "type": "string",
        "description": "Operating mode",
        "enum": ["clock", "metronome"],
        "default": "clock"
      },
      "targetTime": {
        "type": "string",
        "description": "Target time in 12-hour format (e.g., 2:30 PM) - Clock mode only",
        "pattern": "^(1[0-2]|0?[1-9]):[0-5][0-9]\\s*(AM|PM)$"
      },
      "millisecondDelay": {
        "type": "number",
        "description": "Delay between pulses in milliseconds - Metronome mode only",
        "minimum": 100,
        "maximum": 60000,
        "default": 1000
      },
      "enabled": {
        "type": "boolean",
        "description": "Enable/disable the time trigger",
        "default": true
      },
      "apiEnabled": {
        "type": "boolean",
        "description": "Enable WebSocket API for external time sources",
        "default": false
      },
      "apiEndpoint": {
        "type": "string",
        "description": "WebSocket endpoint for external time API (e.g., wss://api.example.com/time)",
        "pattern": "^wss?://.+"
      }
    },
    "required": ["mode"]
  },
  "events": [
    {
      "name": "timeTrigger",
      "type": "output",
      "description": "Emitted when target time is reached (Clock mode) or on pulse (Metronome mode)"
    },
    {
      "name": "stateUpdate",
      "type": "output",
      "description": "Emitted when module state changes"
    },
    {
      "name": "apiConnected",
      "type": "output",
      "description": "Emitted when WebSocket API connection is established"
    },
    {
      "name": "apiDisconnected",
      "type": "output",
      "description": "Emitted when WebSocket API connection is lost"
    }
  ]
} 